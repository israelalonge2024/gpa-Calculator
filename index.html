<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>FUOYE CGPA Calculator</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
 <-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KMBS75WCHW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-KMBS75WCHW');
</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
  <!-- Font Awesome CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <!-- jsPDF CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
    body { background-color: #f4f7f5; color: #222; padding:0; margin:0; }
    .fuoye-log {
      position: fixed;
      top: 0;
      background-color: white;
      margin-bottom: 400px;
      left: 0;
      
  }


h2 {

padding-top:50px;}
    .social-icons a {
      color: white;
      font-size: 24px;
      transition: transform 0.3s ease, color 0.3s ease;
    }


    .scale { 
     font-family:'poppins';
     color:#a855f7;
     font-weight:900;
     font-size:25px;
     margin-top:20px;
     display:flex;
     align-item:center;
      justify-content:center;

}

   .head-text {
padding-left:10px;
padding-right:10px;
font-family:'poppins';
text-align:center;
background:#E6E6FA;
margin-bottom:40px;
margin-top:0;

}

    .hamburger {
      position: fixed;
      top: 100px;
      left: 25px;
      width: 40px;
      height: 30px;
      z-index: 1001;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .hamburger span {
      height: 4px;
      background: #a855f7;
      border-radius: 10px;
      transition: all 0.4s ease;
      box-shadow: 0 0 8px #a855f7;
    }


    .hamburger span:nth-child(1),
    .hamburger span:nth-child(2),
    .hamburger span:nth-child(3) {
      width: 100%;
    }

    /* Transform to X */
    .hamburger.active span:nth-child(1) {
      transform: rotate(45deg) translate(7px, 7px);
      width: 100%;
    }

    .hamburger.active span:nth-child(2) {
      opacity: 0;
    }

    .hamburger.active span:nth-child(3) {
      transform: rotate(-45deg) translate(7px, -7px);
      width: 100%;
    }

    /* Sidebar Menu */
    .sidebar {
      position: fixed;
      top: 0;
     
      right: -100%;
      border-radius:20px 0 0 20px;
      width: 75%;
      height: 60vh;
      background:transparent;
      backdrop-filter: blur(8px);
      box-shadow: -5px 0 30px #a855f7;
      z-index: 1000;
      transition: 0.6s ease;
      display: flex;
      flex-direction: column;
      padding: 80px 30px;
      border-left: 2px solid #a855f7;
    }
  .about {
margin-top:40px;
background:#E6E6FA;
padding-left:10px;
padding-right:10px;

}

    .sidebar.active {
      right: 0;
    }

    .sidebar a {
      color:#a855f7;
      text-decoration: none;
      font-size: 20px;
      margin: 20px 0;
      position: relative;
      transition: color 0.3s ease;
    }

    .sidebar a::after {
      content: '';
      position: absolute;
      left: 0;
      bottom: -5px;
      height: 2px;
      width: 0;
      background: #a855f7;
      transition: width 0.3s ease;
      box-shadow: 0 0 10px #a855f7;
    }

    .sidebar a:hover::after {
      width: 100%;
    }

    .sidebar a:hover {
      color: #a855f7;
    }

    /* Glitch / Glow Animation */
    @keyframes pulse {
      0%, 100% {
        box-shadow: 0 0 10px cyan, 0 0 20px blue;
      }
      50% {
        box-shadow: 0 0 5px cyan, 0 0 10px cyan;
      }
    }

    .hamburger span {
      animation: pulse 1.5s infinite;
    }

    .sidebar a {
      animation: pulse 2.5s infinite;
    }
 .big-image {
      display: flex;
      margin-top: 100px;
      align-items: center;
      margin-bottom: 20px;
      justify-content: center;
    }
    .calc-image {
      float: left;
      margin-left: 0;
    }
    .container {
      max-width: 850px;
      margin: auto;
      margin-left:20px;
      margin-right:20px;
      background: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0, 128, 0, 0.1);
    }
    .fade-in { animation: fadeIn 1s ease-in;}
    .fade-left { animation: fadeLeft 1s ease-out; }
    .fade-right { animation: fadeRight 1s ease-out forwards; }
    .fade-out { animation: fadeOut 0.8s ease-out forwards; }
    h1 {
      text-align: center;
      font-size: 2rem;
      color: #006400;
      margin-bottom: 10px;
    }
    .subtitle {
      text-align: center;
      font-weight: 600;
      color: #555;
      margin-bottom: 30px;
      font-size: 1.2rem;
    }
    .actions {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
      flex-wrap: wrap;
      gap: 10px;
    }
    .actions button {
      padding: 10px 20px;
      border: none;
      font-weight: 600;
      border-radius: 6px;
      cursor: pointer;
      transition: 0.3s ease;
    }
    .add-btn { background-color: #a855f7; color: white; }
    .add-btn:hover { background-color: #581c87; }
    .delete-btn { background-color: #e63946; color: white; }
    .save-btn { background-color: #3b82f6; color: white; }
    .save-btn:hover { background-color: #1e40af; }
    .load-btn { background-color: #f59e0b; color: white; }
    .load-btn:hover { background-color: #d97706; }
    .pdf-btn { background-color: #22c55e; color: white; }
    .pdf-btn:hover { background-color: #15803d; }
    .compare-btn { background-color: #8b5cf6; color: white; }
    .compare-btn:hover { background-color: #6d28d9; }
    .grades-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }
    .grades-table th,
    .grades-table td {
      border: 1px solid #d8b4fe;
      padding: 12px;
      text-align: center;
    }
    .grades-table input,
    .grades-table select {
      width: 90%;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    .calculate-btn {
      display: block;
      width: 100%;
      padding: 12px;
      font-size: 1rem;
      background-color: #9333ea;
      color: white;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s ease;
      margin-bottom: 15px;
    }
    .calculate-btn:hover { background-color: #d8b4fe; }
    .result {
      margin-top: 15px;
      background: #e0f8ea;
      padding: 15px;
      border-radius: 8px;
      text-align: center;
      font-size: 1.1rem;
      font-weight: bold;
      color: #014f01;
    }
    .footer-note {
      text-align: center;
      margin-top: 30px;
      font-size: 0.9rem;
      color: #666;
    }
    @media (max-width: 600px) {
      .actions { flex-direction: column; gap: 10px; }
    }
    .semester {
      margin-bottom: 40px;
      border-bottom: 2px dashed #ccc;
      padding-bottom: 30px;
    }
    .semester-title {
      text-align: center;
      font-size: 1.2rem;
      font-weight: bold;
      margin-bottom: 15px;
      color: #004d00;
    }
    .add-semester-btn {
      background-color: #10b981;
      color: white;
      padding: 10px 20px;
      font-weight: bold;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      margin: 20px auto;
      display: block;
    }
    .cgpa-result {
      background-color: #ccfbf1;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      font-weight: bold;
      color: #065f46;
      font-size: 1.2rem;
      margin-top: 20px;
    }
.about-developer {
  max-width: 1000px;
  margin: 80px auto;
  margin-left:20px;
  margin-right:20px;
  padding: 40px;
  background: linear-gradient(135deg, #f5edff, #efe3ff);
  border-radius: 20px;
  box-shadow: 0 0 40px rgba(150, 100, 255, 0.2);
  font-family: 'Segoe UI', sans-serif;
  color: #4b0082;
  animation: fadeIn 1.2s ease-out ;
}

.about-developer h2 {
  font-size: 36px;
  margin-bottom: 20px;

  color: #7a00cc;
  animation: slideUp 1s ease-out;
}

.about-developer p {
  font-size: 18px;
  line-height: 1.7;
  margin-bottom: 20px;
  color: blue;
}

.about-developer span,
.about-developer strong {
  color: #6b00b3;
  font-weight: bold;
}

.skills h3,
.connect h3 {
  font-size: 24px;
  margin-bottom: 10px;
  color: #6b00b3;
}

.skills ul {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  list-style: none;
  padding: 0;
}

.skills ul li {
  background-color: #c09eff;
  color: #fff;
  padding: 10px 18px;
  border-radius: 30px;
  font-size: 16px;
  transition: transform 0.3s ease;
}

.skills ul li:hover {
  transform: scale(1.05);
}

.connect .links {
  margin-top: 10px;
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
  justify-content: center;
}

.connect a {
  background: #7a00cc;
  color: white;
  padding: 10px 20px;
  border-radius: 25px;
  text-decoration: none;
  font-size: 16px;
  transition: background 0.3s ease, transform 0.3s ease;
}

.connect a:hover {
  background: #4d0099;
  transform: scale(1.05);
}

/* Animations */
@keyframes fadeIn {
  0% { opacity: 0; transform: translateY(20px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes slideUp {
  0% { transform: translateY(40px); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

/* Responsive */
@media (max-width: 768px) {
  .skills ul {
    justify-content: center;
  }

  .connect .links {
    flex-direction: column;
    align-items: center;
  }
}
    footer {
      margin-top: 40px;
      background: #181818;
      padding: 30px 20px;
      text-align: center;
      width: 100%;
    }
    footer h2 {
      font-size: 1.5rem;
      color: #00ff99;
      margin-bottom: 10px;
    }
    footer p {
      font-size: 0.9rem;
      color: #bbb;
      margin-bottom: 15px;
    }
    .footer-links a {
      color: #888;
      text-decoration: none;
      margin: 0 10px;
      font-size: 0.9rem;
      transition: color 0.3s;
    }
    .footer-links a:hover { color: #00ff99; }
    .footer-bottom {
      font-size: 0.8rem;
      color: #666;
    }
    .social-icons {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 25px;
    }
    .social-icons a {
      color: white;
      font-size: 24px;
      transition: transform 0.3s ease, color 0.3s ease;
    }
    .social-icons a.facebook:hover { color: #3b5998; transform: scale(1.2); }
    .social-icons a.x:hover { color: #ccc; transform: scale(1.2); }
    .social-icons a.tiktok:hover { color: #ff0050; transform: scale(1.2); }
    .social-icons a.whatsapp:hover { color: #25d366; transform: scale(1.2); }
    .social-icons a.youtube:hover { color: #ff0000; transform: scale(1.2); }

.dev {
display:flex;
flex-direction:row;
}

.skil {
display:flex;
gap:2px;
flex-direction:row;
}
  </style>
</head>
<body>
  <div class="fuoye-log" style="pointer-events: none; user-select: none;">
    <img src="index.PNG" style="pointer-events: none; user-select: none;" width="100%">
  </div>
  <br><br><br><br><br><br><br>


<div style="padding:10px; margin-top:20px;" class="head-text"><p>The <span style="color:red">new version</span> is coming with huge updates. If you have any feedback or suggestions, please  <a href="https://wa.me/2349048842049" target="_blank" class="whatsapp">let us know</a></p></div>

<div class="body">
  <div class="hamburger" id="hamburger">
    <span></span>
    <span></span>
    <span></span>
  </div>

  <nav class="sidebar" id="sidebar">
    <a href="#">üè† Home</a>
    <a href="#">üí° Features</a>
    <a href="#project">üöÄ Projects</a>
    <a href="mailto:israelalonge2024@gmail.com">üìû Contact</a>
 
  </nav>
</div>
 <br><br><br>
  <div class="container">
    <div class="calc-image">
      <img src="calc.WEBP" style="pointer-events: none; user-select: none;" width="50%">
    </div>
    <div class="big-image">
      <img src="big.WEBP" style="pointer-events: none; user-select: none;" width="70%">
    </div>
    <div id="semesters-container"></div>
    <button class="add-semester-btn" onclick="addSemester()" data-aos="fade-in">+ Add New Semester</button>
    <div class="actions">
      <button class="save-btn" onclick="saveAllResults()">Save All Results</button>
      <button class="load-btn" onclick="loadResults()">Load Results</button>
      <button class="pdf-btn" onclick="exportToPDF()">Download PDF</button>
    </div>
    <div class="cgpa-result" id="cgpaResult" style="display:none;"></div>
 



       <table class="grades-table" style="margin-bottom:100px; color:blue; margin-top:30px;" id="gradesTable-${semesterCount}">


<div class="scale">Grading scale</div>
          <thead>
            <tr>
              <th>Grade</th>
              <th>Point</th>
            </tr>
          </thead>
          <tbody>
      <tr>
              <td>A</td>
              <td>5</td>
               </tr>
             <tr>
              <td>B</td>
              <td>4</td>
               </tr>
             <tr>
              <td>C</td>
              <td>3</td>
               </tr>
             <tr>
              <td>D</td>
              <td>2</td>
               </tr>
  <tr>
              <td>E</td>
              <td>1</td>
               </tr>
  <tr>
              <td>F</td>
              <td>0</td>
               </tr>
            </tbody>
          </table>
  </div>
<div style="color:blue; line-height:2;" class="about">
<span style="color:purple; font-weight:900;"><h2>Welcome to the:</h2></span>
<br>
<br>
<span style="font-weight:900; font-family:Bebas Neue; color:purple; font-size:30px;"><p>Overall GPA Calculator</p></span>

Are you a student looking to calculate your Cumulative Grade Point Average (CGPA) effortlessly? Look no further! Our online CGPA Calculator is designed to provide you with quick and accurate results, saving your time and effort.
<br><br><br>
<br>
Whether you're a current student tracking your academic progress or planning how much grades you need for future semesters, our Simple CGPA calculator is here to simplify the process for you. If you want to calculate CGPA from GPA or want to convert SGPA to CGPA, our powerful tool has got you covered.
<br><br>
We understand that every student's academic journey is unique, and that's why our calculator is designed to accommodate individual needs. You have the flexibility to choose specific semesters for which you want to calculate your CGPA. Whether you're in the middle of your academic career or have completed all semesters, our online tool empowers you to assess your performance with ease.
<br><br>
If you don't know the GPA of your semesters, you can use our dedicated tool, <span style="color:#a855f7;">"Simple GPA Calculator"</span> which is designed to handle grades and course points with credit hours.
</div>
<section class="about-developer">
 <div style="pointer-events: none; user-select: none;" class="dev">
<div class="dev-img"><img src="flutter.PNG" /></div><div class="dev-text"><h2>About the Developer</h2></div>
</div>
  <p class="intro">
    Hey there! I‚Äôm <span>Alonge Israel Olajide</span>, a passionate frontend developer and a 200-level student in the <strong>Biochemistry Department, FUOYE</strong>, proudly from <strong>Kogi State</strong>, Nigeria.
  </p>
  <p class="mission">
    I built this CGPA calculator with love and focus to help fellow students manage, track, and predict their academic progress easily. üìäüí°
  </p>

  <div style="pointer-events: none; user-select: none;" class="skills">
   <div class="ski">
<div><img src="laptop.PNG"></div><div><h3>My Skills</h3></div>
</div>
    <ul style="color:blue;">
      <li>HTML</li>
      <li>CSS</li>
      <li>JavaScript</li>
      <li>UI/UX Design</li>
      <li>Git & GitHub</li>
      <li>Tailwind CSS</li>
      <li>Python (learning)</li>
    </ul>
  </div>

  <div class="connect">
    <h3>üîó Connect With Me</h3>
    <p>Want to collaborate or support this project? Reach out here:</p>
    <div class="links">
      <a href="mailto:israelalonge2024@gmail.com">Email</a>
      <a href="https://github.com/israelalonge2024-github" target="_blank">GitHub</a>
      <a href="https://twitter.com/your-handle" target="_blank">Twitter</a>
    </div>
  </div>
</section>
  <footer>
    <h2>fuoye cgpa calculation</h2>
    <p>Clean. Fast. Just the way you like it.</p>
    <div class="footer-links">
      <a href="#">Home</a>
      <a href="#">About</a>
      <a href="#">Services</a>
      <a href="09048842049">Contact</a>
    </div>
    <div class="footer-bottom">
      ¬© 2025 fuoye cgpa calculator. All rights reserved.<br>
      Built by Alonge Israel
    </div>
  </footer>
  <div class="footer" style="background:black;">
    <div class="social-icons">
      <a href="" target="_blank" class="facebook"><i class="fab fa-facebook-f"></i></a>
      <a href="" target="_blank" class="x"><i class="fab fa-x-twitter"></i></a>
      <a href="" target="_blank" class="tiktok"><i class="fab fa-tiktok"></i></a>
      <a href="https://wa.me/2349048842049" target="_blank" class="whatsapp"><i class="fab fa-whatsapp"></i></a>
      <a href="" target="_blank" class="youtube"><i class="fab fa-youtube"></i></a>
    </div>
  </div>

  <script>

 const hamburger = document.getElementById("hamburger");
    const sidebar = document.getElementById("sidebar");

    hamburger.addEventListener("click", () => {
      hamburger.classList.toggle("active");
      sidebar.classList.toggle("active");
    });

    // Optional: Close menu on link click
    document.querySelectorAll('.sidebar a').forEach(link => {
      link.addEventListener('click', () => {
        hamburger.classList.remove("active");
        sidebar.classList.remove("active");
      });
});
    let semesterCount = 0;

    function addSemester() {
      semesterCount++;
      const container = document.getElementById('semesters-container');
      const semesterDiv = document.createElement('div');
      semesterDiv.className = 'semester';
      semesterDiv.id = `semester-${semesterCount}`;
      semesterDiv.innerHTML = `
        <div class="semester-title">Semester ${semesterCount}</div>
        <div class="actions">
          <button class="add-btn" style="margin-bottom:30px;" onclick="addRow(${semesterCount})">+ Add Course</button>
          <button class="delete-btn" style="margin-bottom:30px;" onclick="deleteRow(${semesterCount})">Delete Last</button>
          <button class="save-btn" style="margin-bottom:30px;" onclick="saveResults(${semesterCount})">Save Semester</button>
          <button class="compare-btn" onclick="compareWithLastSemester(${semesterCount})">Compare with Last Semester</button>
        </div>
        <table class="grades-table" style="margin-bottom:100px; margin-top:30px;" id="gradesTable-${semesterCount}">
          <thead>
            <tr>
              <th>Course</th>
              <th>Units</th>
              <th>Grade</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><input type="text" placeholder="e.g. MTH101" /></td>
              <td><input type="tel" inputmode="numeric" pattern="[0-9]*" placeholder="e.g. 3" /></td>
              <td>
                <select>
                  <option value="5">A</option>
                  <option value="4">B</option>
                  <option value="3">C</option>
                  <option value="2">D</option>
                  <option value="1">E</option>
                  <option value="0">F</option>
                </select>
              </td>
            </tr>
          </tbody>
        </table>
        <button class="calculate-btn" onclick="calculateGPA(${semesterCount})">Calculate GPA for Semester ${semesterCount}</button>
        <div class="result" id="result-${semesterCount}" style="display: none;"></div>
      `;
      container.appendChild(semesterDiv);
    }

    function addRow(semesterId) {
      const table = document.getElementById(`gradesTable-${semesterId}`).getElementsByTagName('tbody')[0];
      const newRow = table.insertRow();
      newRow.innerHTML = `
        <td><input type="text" placeholder="e.g. CHM101" /></td>
        <td><input type="tel" inputmode="numeric" pattern="[0-9]*" placeholder="e.g. 3" /></td>
        <td>
          <select>
            <option value="5">A</option>
            <option value="4">B</option>
            <option value="3">C</option>
            <option value="2">D</option>
            <option value="1">E</option>
            <option value="0">F</option>
          </select>
        </td>
      `;
    }

    function deleteRow(semesterId) {
      const table = document.getElementById(`gradesTable-${semesterId}`).getElementsByTagName('tbody')[0];
      if (table.rows.length > 1) {
        table.deleteRow(table.rows.length - 1);
      }
    }

    function calculateGPA(semesterId) {
      const table = document.getElementById(`gradesTable-${semesterId}`).getElementsByTagName('tbody')[0];
      let totalUnits = 0;
      let totalPoints = 0;

      for (let i = 0; i < table.rows.length; i++) {
        const units = parseFloat(table.rows[i].cells[1].children[0].value);
        const gradePoint = parseFloat(table.rows[i].cells[2].children[0].value);

        if (isNaN(units) || units < 0 || isNaN(gradePoint)) {
          alert("Please enter valid numeric units for all courses in Semester " + semesterId);
          return;
        }
        totalUnits += units;
        totalPoints += units * gradePoint;
      }

      const resultBox = document.getElementById(`result-${semesterId}`);
      if (totalUnits === 0) {
        resultBox.innerText = "Please enter valid unit values.";
        resultBox.style.display = "block";
        return;
      }

      const gpa = totalPoints / totalUnits;
      resultBox.innerHTML = `
        Total Units: <b>${totalUnits}</b><br/>
        Total Points: <b>${totalPoints}</b><br/>
        GPA: <b>${gpa.toFixed(2)}</b>
      `;
      resultBox.style.display = "block";

      // Store GPA for comparison
      localStorage.setItem(`semester-${semesterId}-gpa`, gpa.toFixed(2));
      calculateCGPA();
    }

    function calculateCGPA() {
      let totalAllUnits = 0;
      let totalAllPoints = 0;

      for (let sem = 1; sem <= semesterCount; sem++) {
        const table = document.getElementById(`gradesTable-${sem}`);
        if (!table) continue;

        const tbody = table.getElementsByTagName('tbody')[0];
        for (let i = 0; i < tbody.rows.length; i++) {
          const units = parseFloat(tbody.rows[i].cells[1].children[0].value);
          const gradePoint = parseFloat(tbody.rows[i].cells[2].children[0].value);

          if (!isNaN(units) && !isNaN(gradePoint)) {
            totalAllUnits += units;
            totalAllPoints += units * gradePoint;
          }
        }
      }

      const cgpaBox = document.getElementById("cgpaResult");
      if (totalAllUnits === 0) {
        cgpaBox.style.display = "none";
        return;
      }

      const cgpa = totalAllPoints / totalAllUnits;
      cgpaBox.innerHTML = `
        Total Units (All Semesters): <b>${totalAllUnits}</b><br/>
        Total Points (All Semesters): <b>${totalAllPoints}</b><br/>
        <hr style="margin: 10px 0;" />
        CGPA: <b>${cgpa.toFixed(2)}</b>
      `;
      cgpaBox.style.display = "block";
    }

    function saveResults(semesterId) {
      const table = document.getElementById(`gradesTable-${semesterId}`).getElementsByTagName('tbody')[0];
      const courses = [];
      for (let i = 0; i < table.rows.length; i++) {
        const course = table.rows[i].cells[0].children[0].value;
        const units = table.rows[i].cells[1].children[0].value;
        const grade = table.rows[i].cells[2].children[0].value;
        if (course && units && !isNaN(parseFloat(units))) {
          courses.push({ course, units: parseFloat(units), grade: parseFloat(grade) });
        }
      }
      if (courses.length === 0) {
        alert("No valid courses to save for Semester " + semesterId);
        return;
      }
      localStorage.setItem(`semester-${semesterId}-courses`, JSON.stringify(courses));
      const resultBox = document.getElementById(`result-${semesterId}`);
      resultBox.innerText = "Results saved successfully!";
      resultBox.style.display = "block";
      setTimeout(() => calculateGPA(semesterId), 2000); // Restore GPA display
    }

    function saveAllResults() {
      for (let sem = 1; sem <= semesterCount; sem++) {
        if (document.getElementById(`gradesTable-${sem}`)) {
          saveResults(sem);
        }
      }
      alert("All semester results saved!");
    }

    function loadResults() {
      for (let sem = 1; sem <= semesterCount; sem++) {
        const courses = JSON.parse(localStorage.getItem(`semester-${sem}-courses`) || '[]');
        if (courses.length > 0 && document.getElementById(`gradesTable-${sem}`)) {
          const table = document.getElementById(`gradesTable-${sem}`).getElementsByTagName('tbody')[0];
          table.innerHTML = '';
          courses.forEach(course => {
            const newRow = table.insertRow();
            newRow.innerHTML = `
              <td><input type="text" value="${course.course}" /></td>
              <td><input type="tel" inputmode="numeric" pattern="[0-9]*" value="${course.units}" /></td>
              <td>
                <select>
                  <option value="5" ${course.grade === 5 ? 'selected' : ''}>A</option>
                  <option value="4" ${course.grade === 4 ? 'selected' : ''}>B</option>
                  <option value="3" ${course.grade === 3 ? 'selected' : ''}>C</option>
                  <option value="2" ${course.grade === 2 ? 'selected' : ''}>D</option>
                  <option value="1" ${course.grade === 1 ? 'selected' : ''}>E</option>
                  <option value="0" ${course.grade === 0 ? 'selected' : ''}>F</option>
                </select>
              </td>
            `;
          });
          calculateGPA(sem);
        }
      }
    }

    function compareWithLastSemester(semesterId) {
      const currentGPA = parseFloat(localStorage.getItem(`semester-${semesterId}-gpa`) || '0');
      const previousSemesterId = semesterId - 1;
      const previousGPA = parseFloat(localStorage.getItem(`semester-${previousSemesterId}-gpa`) || '0');
      const resultBox = document.getElementById(`result-${semesterId}`);

      if (previousGPA === 0 && previousSemesterId > 0) {
        resultBox.innerText = `No data available for Semester ${previousSemesterId} to compare.`;
      } else if (currentGPA === 0) {
        resultBox.innerText = "Please calculate GPA for this semester first.";
      } else {
        const difference = (currentGPA - previousGPA).toFixed(2);
        const message = difference > 0 ? "improved" : difference < 0 ? "decreased" : "remained the same";
        resultBox.innerHTML = `
          Semester ${semesterId} GPA: <b>${currentGPA}</b><br/>
          Semester ${previousSemesterId} GPA: <b>${previousGPA}</b><br/>
          Difference: <b>${difference}</b> (${message})
        `;
      }
      resultBox.style.display = "block";
      setTimeout(() => calculateGPA(semesterId), 3000); // Restore GPA display
    }

    function exportToPDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      doc.setFontSize(16);
      doc.text("FUOYE CGPA Calculator Results", 20, 20);
      doc.setFontSize(12);
      let y = 30;

      for (let sem = 1; sem <= semesterCount; sem++) {
        const table = document.getElementById(`gradesTable-${sem}`);
        if (!table) continue;

        doc.text(`Semester ${sem}`, 20, y);
        y += 10;

        const tbody = table.getElementsByTagName('tbody')[0];
        let semesterData = [['Course', 'Units', 'Grade', 'Points']];
        let totalUnits = 0;
        let totalPoints = 0;

        for (let i = 0; i < tbody.rows.length; i++) {
          const course = tbody.rows[i].cells[0].children[0].value || 'N/A';
          const units = parseFloat(tbody.rows[i].cells[1].children[0].value) || 0;
          const gradePoint = parseFloat(tbody.rows[i].cells[2].children[0].value) || 0;
          const grade = ['F', 'E', 'D', 'C', 'B', 'A'][gradePoint] || 'N/A';
          if (!isNaN(units) && !isNaN(gradePoint)) {
            totalUnits += units;
            totalPoints += units * gradePoint;
          }
          semesterData.push([course, units, grade, (units * gradePoint).toFixed(2)]);
        }

        doc.autoTable({
          startY: y,
          head: [semesterData[0]],
          body: semesterData.slice(1),
          theme: 'grid',
          styles: { fontSize: 10 },
        });
        y = doc.lastAutoTable.finalY + 10;

        const gpa = totalUnits > 0 ? (totalPoints / totalUnits).toFixed(2) : 'N/A';
        doc.text(`Semester ${sem} GPA: ${gpa}`, 20, y);
        y += 10;
      }

      const cgpaBox = document.getElementById("cgpaResult");
      if (cgpaBox.style.display !== "none") {
        doc.text(cgpaBox.innerText, 20, y);
      }

      doc.save(`FUOYE_CGPA_${new Date().toISOString().split('T')[0]}.pdf`);
    }

    window.onload = () => {
      addSemester();
      if (localStorage.getItem('semester-1-courses')) {
        loadResults();
      }
    };
  </script>
</body>
</html>
 
